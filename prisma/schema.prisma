generator client {
    provider      = "prisma-client-js"
    binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id                                  Int           @id @default(autoincrement())
    email                               String        @unique
    name                                String        @unique
    hashedPassword                      String
    emailConfirmationCode               String?
    emailConfirmationCodeExpirationDate String?
    isEmailConfirmed                    Boolean       @default(false)
    passwordRecoveryCode                String?
    DeviceToken                         DeviceToken[]
}

model DeviceToken {
    id             Int    @id @default(autoincrement())
    issuedAt       String
    expirationDate String
    deviceIP       String
    deviceId       String
    deviceName     String
    user           User   @relation(fields: [userId], references: [id])
    userId         Int
}
